<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BekEmlak New Password</title>
    <link rel="stylesheet" href="assets/newPasswordStyle.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div class="topBox"></div>
<div class="registerBox">
    <div class="newPasswordBox">
        <h2 style="text-align: center;padding-top: 50px;font-family: 'Comic Sans MS';font-size: 50px">Lütfen Yeni Şifrenizi Belirleyiniz!</h2>
        <label class="password" for="password">Şifre: </label>
        <input style="font-size: 25px" type="password" id="password" name="password" required>
        <br>
        <br>
        <br>
        <br>

        <a class="newPasswordSave" id="createPasswordButton">Şifreyi oluştur</a>
    </div>
</div>

<script>
    // Wait for the document to be fully loaded
    // Wait for the document to be fully loaded
    $(document).ready(function () {
        // When the button is clicked
        $('#createPasswordButton').click(function () {
            // Get the password from the input field
            var password = $('#password').val();

            // Make an AJAX POST request to your API endpoint
            $.ajax({
                type: 'POST',
                url: '/newPassword',
                data: {
                    // Pass the password as a parameter
                    password: password,
                    // You may need to handle confirmPassword in the JavaScript as well
                    confPassword: password
                },
                success: function (data) {
                    alert("Şifreniz Başarıyla Değiştirildi!")
                    window.location.href = "loginPage.html";
                },
                error: function () {
                    // Handle error, if any
                    alert('Şifre oluşturulurken bir hata oluştu.');
                }
            });
        });
    });

</script>
</body>
</html>


